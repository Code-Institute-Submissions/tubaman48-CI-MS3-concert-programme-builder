{% extends "base.html" %}
{% block content %}

    <div class="row">
        <div class="col s12 m8 offset-m2">
            <div class="card-panel">
                <h3 class="center-align light-amber-text text-darken-4">
                    {{ username }}'s Profile
                </h3>
                <h4 class="light-amber-text text-darken-4">
                    Site Permissions :
                </h4>
                {% if session.user|lower == "librarian"|lower %}
                    <p><strong>Programmes :</strong><br>
                        Add allowed. Edit and Remove permitted only on own entries</p>
                    <p><strong>Music      :</strong><br>
                        Display, Add, Edit and Remove permitted on all entries</p>
                    <p><strong>Genres     :</strong><br>
                        Display, Add, Edit and Remove permitted on all entries</p>
                    <p><strong>Venues     :</strong><br>
                        Display, Add, Edit and Remove permitted on all entries</p>
                {% else %}
                    <p><strong>Programmes :</strong><br>
                        Add allowed. Edit and Remove permitted only on own entries</p>
                    <p><strong>Music      :</strong><br>
                        No access to Add, Edit or Remove entries<br>
                        (maintained by Librarian)</p>
                    <p><strong>Genres     :</strong><br>
                        No access to Add, Edit or Remove entries<br>
                        (maintained by Librarian)</p>
                    <p><strong>Venues     :</strong><br>
                        Display, Add, Edit and Remove permitted on all entries</p>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="row">
        {% for prog in progs %}
            <div class="col s12 m4 center-align">  
                
                <div class="card">
                    <div class="card-content">
                        <span class="card-title grey-text text-darken-4">{{ prog.concert_venue }} </span>
                        <span class="card-title grey-text text-darken-3"> <i class="material-icons dp48">schedule</i> {{ prog.concert_date }} </span>
                    </div>
                    <div class="card-content grey lighten-4">
                        <p><strong>Playing between : {{ prog.concert_times }}</strong></p>
                        <p><strong>Band performing : {{ prog.band_name }}</strong></p>
                        <p><strong>Music Piece 1   : {{ prog.prog_item_1 }}</strong></p>
                        {% if prog.prog_item_2 != "" %}
                            <p><strong>Music Piece 2   : {{ prog.prog_item_2 }}</strong></p>
                        {% endif %}
                        {% if prog.prog_item_3 != "" %}
                            <p><strong>Music Piece 3   : {{ prog.prog_item_3 }}</strong></p>
                        {% endif %}
                        {% if prog.prog_item_4 != "" %}
                            <p><strong>Music Piece 4   : {{ prog.prog_item_4 }}</strong></p>
                        {% endif %}
                        {% if prog.prog_item_5 != "" %}
                            <p><strong>Music Piece 5   : {{ prog.prog_item_5 }}</strong></p>
                        {% endif %}
                        {% if prog.prog_item_6 != "" %}
                            <p><strong>Music Piece 6   : {{ prog.prog_item_6 }}</strong></p>
                        {% endif %}
                        <p><em>Created by: {{ prog.created_by }}</em></p>
                    </div>
                    {% if session.user|lower == prog.created_by|lower %}
                        <div class="card-action">
                            <a href="{{ url_for('prog_delete', prog_id=prog._id) }}" class="btn-small red accent-4">Delete</a>
                            <a href="{{ url_for('prog_edit', prog_id=prog._id) }}" 
                            class="btn-small light-blue lighten-1">Edit</a>
                        </div>
                    {% endif %}
                </div>

            </div>
        {% endfor %}
    </div>
{% endblock %}